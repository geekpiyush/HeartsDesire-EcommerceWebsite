@model List<Entities.Orders>

@{
    ViewBag.Title = "All Orders";
}

<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css" />

<h1>All Orders</h1>

<table id="ordersTable" class="display responsive nowrap table table-bordered" style="width:100%">
    <thead>
        <tr>
            <th>Order ID</th>
            <th>Product ID</th>
            <th>Product Name</th>
            <th>Customer Name</th>
            <th>Email</th>
            <th>Quantity</th>
            <th>Mobile Number</th>
            <th>City</th>
            <th>State</th>
            <th>Pincode</th>
            <th>Address</th>
            <th>Order Date</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var order in Model)
        {
            <tr>
                <td>@order.OrderID</td>
                <td>@order.ProductID</td>
                <td>@order.Product?.ProductName</td>
                <td>@order.CustomerName</td>
                <td>@order.Email</td>
                <td>@order.Quantity</td>
                <td>@order.MobileNumber</td>
                <td>@order.City</td>
                <td>@order.State</td>
                <td>@order.Pincode</td>
                <td>@order.Address</td>
                <td>@order.OrderDate.ToString("dd-MM-yyyy HH:mm")</td>
            </tr>
        }
    </tbody>
</table>


<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>


<script>
    $(document).ready(function () {
        $('#ordersTable').DataTable({
            responsive: true,
            pageLength: 10,
            order: [[11, 'desc']], 
            columnDefs: [
                { orderable: false, targets: [10] } 
            ]
        });
    });
</script>
